conda activate pydit

# To build the documentation locally
rm -r ./docs/source/_autosummary/*   #delete the content of ./docs/source/_autosummary
sphinx-build ./docs/source ./docs/build  -a

# Manual steps to publish to pypi
# update version in pyproject.toml
# run Black . from the terminal to reformat everything

# update version in ./setup.cfg
# update version in ./CHANGELOG.md
# update version in ./docs/source/conf.py
# update version in ./pydit/__init__.py
# update any change in requirements in the README.md3


poetry publish --build
# or poetry build and then poetry publish

Update RTD
https://readthedocs.org/projects/pydit/builds/17220399/

# To remove a folder from git
# git commit -m "Removed folder from repository"
# git rm -r --cached _autosummary
# git push origin master


Ensure you have 
$ cat .condarc
channel_priority: strict
channels:
  - conda-forge
  - defaults